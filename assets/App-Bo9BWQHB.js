import{r as o,j as e}from"./index-A_E24npU.js";const U="pam-assets-v1";function P(){const[r,g]=o.useState("assets"),[S,k]=o.useState(""),[y,w]=o.useState(""),[b,C]=o.useState(""),[N,A]=o.useState(""),[a,j]=o.useState(()=>{try{return JSON.parse(localStorage.getItem(U)||"[]")}catch{return[]}});o.useEffect(()=>{try{localStorage.setItem(U,JSON.stringify(a))}catch{}},[a]);const[f,E]=o.useState(""),[m,B]=o.useState(!0),O=o.useMemo(()=>{const t=f.trim().toLowerCase(),n=t?a.filter(s=>{var c;return[s.name,s.category,(c=s.notes)!=null?c:""].join(" ").toLowerCase().includes(t)}):a.slice();return n.sort((s,c)=>{const R=s.name.toLowerCase(),L=c.name.toLowerCase(),I=R<L?-1:R>L?1:0;return m?I:-I}),n},[a,f,m]);function D(t){t.preventDefault(),y.trim()&&(j(n=>[{id:crypto.randomUUID(),category:S||"Onbekend",name:y.trim(),value:b?Number(b):void 0,notes:N.trim()||void 0,createdAt:new Date().toISOString()},...n]),k(""),w(""),C(""),A(""))}function J(t){j(n=>n.filter(s=>s.id!==t))}const v=o.useRef(null);function T(){const t=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="assets-export.json",s.click(),URL.revokeObjectURL(n)}async function W(t){if(t)try{const n=await t.text(),s=JSON.parse(n);if(!Array.isArray(s))throw new Error("Ongeldig formaat");j(s),v.current&&(v.current.value="")}catch(n){alert("Import mislukt: "+n.message)}}return e.jsxs("div",{style:{fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, sans-serif",lineHeight:1.4},children:[e.jsxs("header",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",background:"#fafafa"},children:[e.jsx("h1",{style:{margin:0,fontSize:22},children:"PAM — no-bundler modus"}),e.jsxs("nav",{style:{marginTop:10,display:"flex",gap:10},children:[e.jsx("button",{onClick:()=>g("assets"),style:l(r==="assets"),children:"Assets"}),e.jsx("button",{onClick:()=>g("docs"),style:l(r==="docs"),children:"Documenten"}),e.jsx("button",{onClick:()=>g("about"),style:l(r==="about"),children:"Over"})]})]}),r==="assets"&&e.jsxs("main",{style:{padding:20,display:"grid",gap:20},children:[e.jsxs("section",{style:u(),children:[e.jsx("h2",{style:h(),children:"Nieuw asset"}),e.jsxs("form",{onSubmit:D,style:{display:"grid",gap:12,maxWidth:640},children:[e.jsxs("label",{style:x(),children:[e.jsx("span",{children:"Identificatie (bv. IBAN / kenteken / kadastraal nr.)"}),e.jsx("input",{value:S,onChange:t=>k(t.target.value),placeholder:"-- Kies categorie --",style:p()})]}),e.jsxs("label",{style:x(),children:[e.jsx("span",{children:"Naam (bv. ING spaarrekening)"}),e.jsx("input",{value:y,onChange:t=>w(t.target.value),required:!0,placeholder:"Naam",style:p()})]}),e.jsxs("label",{style:x(),children:[e.jsx("span",{children:"Waarde (optioneel, numeriek)"}),e.jsx("input",{value:b,onChange:t=>C(t.target.value),placeholder:"0",inputMode:"decimal",style:p()})]}),e.jsxs("label",{style:x(),children:[e.jsx("span",{children:"Notities (optioneel)"}),e.jsx("textarea",{value:N,onChange:t=>A(t.target.value),rows:3,placeholder:"Opmerkingen…",style:z()})]}),e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx("button",{type:"submit",style:M(),children:"Toevoegen"}),e.jsx("span",{style:{alignSelf:"center",color:"#6b7280"},children:"Data wordt lokaal opgeslagen (localStorage)."})]})]})]}),e.jsxs("section",{style:u(),children:[e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[e.jsx("h2",{style:h(),children:"Assets"}),e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[e.jsx("input",{value:f,onChange:t=>E(t.target.value),placeholder:"Zoek op naam/categorie/id…",style:p()}),e.jsxs("button",{onClick:()=>B(t=>!t),style:l(!1),children:["Sort: Naam ",m?"↑":"↓"]}),e.jsx("button",{onClick:T,style:l(!1),children:"Export JSON"}),e.jsxs("label",{style:G(),children:[e.jsx("span",{children:"Importeren"}),e.jsx("input",{ref:v,type:"file",accept:"application/json",onChange:t=>{var n,s;return W((s=(n=t.target.files)==null?void 0:n[0])!=null?s:null)},hidden:!0})]})]})]}),O.length===0?e.jsx("p",{style:{color:"#6b7280",marginTop:12},children:"Geen assets."}):e.jsx("div",{style:{overflowX:"auto",marginTop:12},children:e.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:i(),children:"Naam"}),e.jsx("th",{style:i(),children:"Categorie"}),e.jsx("th",{style:i(),children:"Waarde"}),e.jsx("th",{style:i(),children:"Aangemaakt"}),e.jsx("th",{style:i()})]})}),e.jsx("tbody",{children:O.map(t=>e.jsxs("tr",{children:[e.jsx("td",{style:d(),children:t.name}),e.jsx("td",{style:d(),children:t.category}),e.jsx("td",{style:d(),children:typeof t.value=="number"?t.value.toLocaleString("nl-NL",{style:"currency",currency:"EUR"}):"—"}),e.jsx("td",{style:d(),children:new Date(t.createdAt).toLocaleString("nl-NL")}),e.jsx("td",{style:d({textAlign:"right"}),children:e.jsx("button",{onClick:()=>J(t.id),style:q(),children:"Verwijderen"})})]},t.id))})]})})]})]}),r==="docs"&&e.jsx("main",{style:{padding:20},children:e.jsxs("section",{style:u(),children:[e.jsx("h2",{style:h(),children:"Documenten"}),e.jsx("p",{children:"Uploaden/koppelen van bijlagen kan later worden toegevoegd."})]})}),r==="about"&&e.jsx("main",{style:{padding:20},children:e.jsxs("section",{style:u(),children:[e.jsx("h2",{style:h(),children:"Over"}),e.jsxs("p",{children:["PAM — eenvoudige desktopapp voor assets en notities. Opslag: ",e.jsx("code",{children:"localStorage"})," op dit apparaat."]})]})})]})}const l=r=>({padding:"8px 12px",borderRadius:8,border:"1px solid #d1d5db",background:r?"#111827":"#fff",color:r?"#fff":"#111827",cursor:"pointer"}),M=()=>({padding:"10px 14px",borderRadius:8,background:"#111827",color:"#fff",border:"1px solid #111827",cursor:"pointer"}),q=()=>({padding:"6px 10px",borderRadius:8,background:"#fee2e2",color:"#b91c1c",border:"1px solid #fecaca",cursor:"pointer"}),p=()=>({padding:"8px 10px",borderRadius:8,border:"1px solid #d1d5db",width:280}),z=()=>({padding:"8px 10px",borderRadius:8,border:"1px solid #d1d5db",width:420}),x=()=>({display:"grid",gap:6}),u=()=>({border:"1px solid #e5e7eb",borderRadius:12,padding:16,background:"#fff",boxShadow:"0 1px 2px rgba(0,0,0,0.03)"}),h=()=>({margin:0,fontSize:18,marginBottom:8}),i=()=>({textAlign:"left",fontWeight:600,borderBottom:"1px solid #e5e7eb",padding:"8px 6px",whiteSpace:"nowrap"}),d=(r={})=>({borderBottom:"1px solid #f3f4f6",padding:"8px 6px",...r}),G=()=>({padding:"8px 12px",borderRadius:8,border:"1px solid #d1d5db",background:"#fff",color:"#111827",cursor:"pointer",display:"inline-block"});export{P as default};
